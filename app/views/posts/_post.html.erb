<div class="bg-white p-4 rounded shadow my-4">
  <% raise "Post is nil!" if post.nil? %>
  <div class="flex items-center space-x-3 mb-2">
    <%= avatar_for(post.author, class: "h-8 w-8 rounded-full") %>
    <div>
      <p class="text-sm font-semibold"><%= post.author.full_name || post.author.username %></p>
      <p class="text-xs text-gray-500"><%= time_ago_in_words(post.created_at) %> ago</p>
    </div>
  </div>

  <p class="mb-2"><%= post.description %></p>

  <% if post.images.attached? %>
    <div class="space-y-2 mt-2">
      <% post.images.each do |image| %>
        <%= image_tag image.variant(resize_to_limit: [800, 800]), class: "w-full rounded-lg object-cover" %>
      <% end %>
    </div>
  <% end %>
  <!-- Action Buttons -->
  <div class="border-t border-gray-200 pt-3 mt-4 flex justify-around text-gray-600 text-sm font-medium">
    <!-- Like -->
    <div class="flex gap-1 items-center">
        <%= render partial: "posts/like_button", locals: { post: post } %>
        <div id="<%= dom_id(post, :like_count) %>" class="text-sm text-gray-600">
            <%= post.likes.count %>
        </div>
    </div>
    <!-- Comment -->
    <div class="flex gap-1 items-center">
        <%= render partial: "posts/comment_button", locals: { post: post } %>
        <div id="<%= dom_id(post, :comment_count) %>" class="text-sm text-gray-600">
            <%= post.comments.count %>
        </div>
    </div>

    <!-- Share -->
    <div class="flex gap-1 items-center">
        <%= render partial: "posts/share_button", locals: { post: post } %>
        <div id="<%= dom_id(post, :share_count) %>" class="text-sm text-gray-600">
            0
        </div>
    </div>
  </div>

</div>
